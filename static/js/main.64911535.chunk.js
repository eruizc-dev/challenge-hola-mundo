(this["webpackJsonp1-tramos-horarios"]=this["webpackJsonp1-tramos-horarios"]||[]).push([[0],{68:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var r,c=t(3),o=t(0),i=t.n(o),a=t(10),s=t.n(a),u=(t(68),t(115)),l=t(116),j=t(110),O=t(20);function b(e,n){n(function(e){return{type:r.LOGIN,payload:{username:e}}}(e))}function d(e){e({type:r.LOGOUT})}function f(){var e=Object(O.b)(),n=Object(O.c)((function(e){return e.auth}));return{isLoggedIn:!!n.username,username:n.username,login:function(n){return b(n,e)},logout:function(){return d(e)}}}function h(){var e=f(),n=e.isLoggedIn,t=e.username;return n?Object(c.jsx)(j.a,{variant:"h4",children:"\xa1Hola ".concat(t,"!")}):null}!function(e){e.LOGIN="LOGIN",e.LOGOUT="LOGOUT"}(r||(r={}));var x=t(15),v=t(17),C=t(124);function p(e){return Object(c.jsx)(C.a,Object(v.a)({elevation:6,variant:"filled"},e))}var g=t(123),m=t(114),y=t(125),S=t(127),L=t(54);function E(e){var n=e.onSubmit,t=void 0===n?function(){}:n,r=Object(o.useRef)(),i=Object(L.a)(),a=i.register,s=i.handleSubmit,u=f().login;return Object(o.useEffect)((function(){r.current&&(a(r.current),r.current.focus())}),[a]),Object(c.jsxs)("form",{onSubmit:s((function(e){u(e.username),t(e)})),style:{display:"flex",flexDirection:"column"},children:[Object(c.jsx)(g.a,{required:!0,helperText:"No puede ser vac\xedo",type:"input",label:"Usuario",name:"username",variant:"outlined",style:{margin:"10px"},inputProps:{ref:r}}),Object(c.jsx)(m.a,{type:"submit",variant:"contained",color:"primary",style:{margin:"10px"},children:"Confirmar"})]})}function T(e){var n=e.open,t=e.onClose,r=e.onSubmit;return Object(c.jsx)(y.a,{open:n,onClose:t,closeAfterTransition:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(c.jsxs)("div",{style:{backgroundColor:"#fff",padding:"25px",borderRadius:"4px"},children:[Object(c.jsx)("h1",{style:{textAlign:"center"},children:"\xa1Bienvenido!"}),Object(c.jsx)(E,{onSubmit:function(){r&&r(),t&&t()}})]})})}function w(e){var n=e.onClick;return Object(c.jsx)(m.a,{onClick:n,color:"inherit",children:"Ingresar"})}function R(e){var n=e.open,t=e.onClose;return Object(c.jsx)(S.a,{open:n,autoHideDuration:2500,onClose:t,children:Object(c.jsx)(p,{onClose:t,severity:"success",children:"\xa1Bienvenido al sistema!"})})}function I(e){var n=e.onClick,t=void 0===n?function(){}:n,r=f().logout;return Object(c.jsx)(m.a,{onClick:function(){r(),t()},color:"inherit",children:"Salir"})}function k(e){var n=e.open,t=e.onClose;return Object(c.jsx)(S.a,{open:n,autoHideDuration:2500,onClose:t,children:Object(c.jsx)(p,{onClose:t,severity:"success",children:"\xa1Hasta pronto!"})})}function M(e){var n=e.onLoginClick,t=e.onLogoutClick;return f().isLoggedIn?Object(c.jsx)(I,{onClick:t}):Object(c.jsx)(w,{onClick:n})}function N(){var e=Object(o.useState)(!1),n=Object(x.a)(e,2),t=n[0],r=n[1],i=Object(o.useState)(!1),a=Object(x.a)(i,2),s=a[0],u=a[1],l=Object(o.useState)(!1),j=Object(x.a)(l,2),O=j[0],b=j[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(M,{onLoginClick:function(){return r(!0)},onLogoutClick:function(){return b(!0)}}),Object(c.jsx)(T,{open:t,onClose:function(){return r(!1)},onSubmit:function(){return u(!0)}}),Object(c.jsx)(R,{open:s,onClose:function(){return u(!1)}}),Object(c.jsx)(k,{open:O,onClose:function(){return b(!1)}})]})}function _(){return Object(c.jsx)(u.a,{position:"static",children:Object(c.jsxs)(l.a,{style:{justifyContent:"space-between"},children:[Object(c.jsx)(j.a,{variant:"h6",children:"Tramos horarios"}),Object(c.jsx)(h,{}),Object(c.jsx)(N,{})]})})}var D,U=t(117),A=t(118),G=t(119),Y=t(120),q=t(79),F=t(121),H=t(122);!function(e){e.REQUEST_MOTORCYCLE="REQUEST_MOTORCYCLE",e.CANCEL_MOTORCYCLE="CANCEL_MOTORCYCLE"}(D||(D={}));var J=t(33),B={"08:00":8,"08:30":8,"09:00":8,"09:30":8,"10:00":8,"10:30":8,"11:00":8,"11:30":8,"12:00":8,"12:30":8,"13:00":8,"13:30":8,"14:00":8,"14:30":8,"15:00":8,"15:30":8,"16:00":8,"16:30":8,"17:00":8,"17:30":8,"18:00":8,"18:30":8,"19:00":8,"19:30":8,"20:00":8};var Q="username",P={username:window.localStorage.getItem(Q)};var X,V,z=t(8),K="orders",W=null!==(X=window.localStorage.getItem(K))&&void 0!==X?X:"{}",Z=JSON.parse(W);var $=Object(J.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.LOGIN:return window.localStorage.setItem(Q,n.payload.username),Object(v.a)(Object(v.a)({},e),{},{username:n.payload.username});case r.LOGOUT:return window.localStorage.removeItem(Q),Object(v.a)(Object(v.a)({},e),{},{username:null});default:return e}},availability:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,n=arguments.length>1?arguments[1]:void 0;return n.type,e},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case D.REQUEST_MOTORCYCLE:var t=n.payload,r=t.username,c=t.hour,o=Object(v.a)(Object(v.a)({},e),{},Object(z.a)({},r,Object(v.a)(Object(v.a)({},e[r]||{}),{},Object(z.a)({},c,!0))));return window.localStorage.setItem(K,JSON.stringify(o)),o;case D.CANCEL_MOTORCYCLE:var i=n.payload,a=i.username,s=i.hour,u=Object(v.a)(Object(v.a)({},e),{},Object(z.a)({},a,Object(v.a)(Object(v.a)({},e[a]),{},Object(z.a)({},s,void 0))));return window.localStorage.setItem(K,JSON.stringify(u)),u;default:return e}}}),ee=Object(J.c)($,null===(V=window)||void 0===V?void 0:V.__REDUX_DEVTOOLS_EXTENSION__()),ne=ee;function te(e){var n=ee.getState().auth.username;if(!n)throw new Error("Debe iniciar sesi\xf3n");ee.dispatch(function(e,n){return{type:D.REQUEST_MOTORCYCLE,payload:{username:e,hour:n}}}(n,e))}function re(e){var n=ee.getState().auth.username;if(!n)throw new Error("Debe iniciar sesi\xf3n");ee.dispatch(function(e,n){return{type:D.CANCEL_MOTORCYCLE,payload:{username:e,hour:n}}}(n,e))}function ce(){var e=Object(O.c)((function(e){return e.orders})),n=f().username;return{requestMotorcycle:function(e){return te(e)},cancelMotorcycle:function(e){return re(e)},isRequested:function(t){return!(!e[n]||!e[n][t])}}}function oe(e){var n=e.onClick;return Object(c.jsx)(m.a,{variant:"contained",color:"primary",onClick:n,children:"SOLICITAR"})}function ie(e){var n=e.onClick;return Object(c.jsx)(m.a,{variant:"contained",color:"secondary",onClick:n,children:"CANCELAR"})}function ae(e){var n=e.hour,t=e.onRequestMotorcycle,r=e.onCancelMotorcycle;return(0,ce().isRequested)(n)?Object(c.jsx)(ie,{onClick:r}):Object(c.jsx)(oe,{onClick:t})}function se(e){var n=e.hour,t=Object(o.useState)(!1),r=Object(x.a)(t,2),i=r[0],a=r[1],s=ce(),u=s.requestMotorcycle,l=s.cancelMotorcycle;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ae,{hour:n,onRequestMotorcycle:function(){return function(e){try{u(e)}catch(n){console.error(n),a(n)}}(n)},onCancelMotorcycle:function(){return function(e){try{l(e)}catch(n){console.error(n),a(n)}}(n)}}),Object(c.jsx)(ue,{open:i,message:null===i||void 0===i?void 0:i.message,onClose:function(){return a(!1)}})]})}function ue(e){var n=e.open,t=e.message,r=e.onClose;return n&&Object(c.jsx)(S.a,{open:!0,autoHideDuration:2500,onClose:r,children:Object(c.jsx)(p,{onClose:r,severity:"error",children:t||"Error desconocido"})})}function le(){var e=Object(O.c)((function(e){return e.availability}));return Object(c.jsx)(U.a,{children:Object.entries(e).map((function(e){var n=Object(x.a)(e,2),t=n[0],r=n[1];return Object(c.jsx)(je,{hour:t,available:r},t)}))})}function je(e){var n=e.hour,t=e.available;return Object(c.jsxs)(A.a,{children:[Object(c.jsx)(G.a,{children:n}),Object(c.jsx)(G.a,{align:"right",children:t}),Object(c.jsx)(G.a,{align:"right",children:Object(c.jsx)(se,{hour:n})})]})}function Oe(){return Object(c.jsx)(Y.a,{component:q.a,children:Object(c.jsxs)(F.a,{"aria-label":"simple table",children:[Object(c.jsx)(H.a,{children:Object(c.jsxs)(A.a,{children:[Object(c.jsx)(G.a,{children:"Horario"}),Object(c.jsx)(G.a,{align:"right",children:"Disponibles"}),Object(c.jsx)(G.a,{align:"right",children:"Solicitar"})]})}),Object(c.jsx)(le,{})]})})}function be(e){var n=e.children;return Object(c.jsx)("div",{style:{padding:"50px 25px 25px 25px"},children:n})}function de(){return Object(c.jsx)("h1",{children:"Selecci\xf3n de motocicleta"})}function fe(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(_,{}),Object(c.jsxs)(be,{children:[Object(c.jsx)(de,{}),Object(c.jsx)(Oe,{})]})]})}var he=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,128)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),o(e),i(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(O.a,{store:ne,children:Object(c.jsx)(fe,{})})}),document.getElementById("root")),he()}},[[78,1,2]]]);
//# sourceMappingURL=main.64911535.chunk.js.map