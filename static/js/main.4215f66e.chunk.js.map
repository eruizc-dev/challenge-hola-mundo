{"version":3,"sources":["redux/auth/actions.ts","redux/auth/useAuth.ts","components/displayUsername.jsx","components/alert.jsx","components/auth/login.jsx","components/auth/logout.jsx","components/auth/loginLogoutButton.jsx","components/topBar.jsx","redux/orders/actions.ts","redux/availability/reducer.ts","redux/auth/reducer.ts","redux/orders/reducer.ts","redux/store.ts","redux/orders/useOrders.ts","components/motorcycles/requestMotorcycleButton.jsx","components/motorcycles/availableMotorciclesGrid.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["types","login","username","dispatch","type","LOGIN","payload","Actions","logout","LOGOUT","useAuth","useDispatch","auth","useSelector","s","isLoggedIn","DisplayUsername","Typography","variant","Alert","props","elevation","LoginForm","onSubmit","usernameInput","useRef","useForm","register","handleSubmit","useEffect","current","focus","d","style","display","flexDirection","TextField","required","helperText","label","name","margin","inputProps","ref","Button","color","LoginModal","open","onClose","Modal","closeAfterTransition","alignItems","justifyContent","backgroundColor","padding","borderRadius","textAlign","LogInButton","onClick","LoginAlert","Snackbar","autoHideDuration","severity","LogOutButton","LogoutAlert","SessionButton","onLoginClick","onLogoutClick","LoginLogoutButton","useState","loginModalOpen","setLoginModalOpen","loginAlertOpen","setLoginAlertOpen","logoutAlertOpen","setLogoutAlertOpen","TopBar","AppBar","position","Toolbar","initialState","key","window","localStorage","getItem","unparsedState","JSON","parse","reducers","combineReducers","state","action","setItem","removeItem","availability","orders","REQUEST_MOTORCYCLE","hour","newState","stringify","CANCEL_MOTORCYCLE","undefined","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","requestMotorcycle","getState","Error","cancelMotorcycle","requested","Object","entries","reduce","pv","useOrders","available","setAvailable","sum","calcAvailable","isRequested","RequestMotorcycle","CancelMotorcycle","Disabled","disabled","RequestCancelMotorcycle","onRequestMotorcycle","onCancelMotorcycle","RequestMotorcycleButton","error","setError","err","console","ErrorHandler","message","MotorcycleTableBody","motorcicles","TableBody","map","k","MotorcycleRow","TableRow","TableCell","align","AvailableMotorciclesGrid","TableContainer","component","Paper","Table","aria-label","TableHead","Layout","children","Title","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4215f66e.chunk.js","sourcesContent":["import { Action } from '../types';\n\nexport enum types {\n    LOGIN = 'LOGIN',\n    LOGOUT = 'LOGOUT'\n}\n\nexport function login(username: string): Action {\n    return {\n        type: types.LOGIN,\n        payload: {\n            username: username\n        }\n    };\n}\n\nexport function logout(): Action {\n    return {\n        type: types.LOGOUT,\n    };\n}\n\n","import { useSelector, useDispatch } from 'react-redux';\nimport * as Actions from './actions';\n\nfunction login(username: string, dispatch: any) {\n    dispatch(Actions.login(username));\n}\n\nfunction logout(dispatch: any) {\n    dispatch(Actions.logout());\n}\n\nexport default function useAuth() {\n    const dispatch = useDispatch();\n    const auth = useSelector((s: any) => s.auth);\n\n    return {\n        isLoggedIn: !!auth.username,\n        username: auth.username,\n        login: (username: string) => login(username, dispatch),\n        logout: () => logout(dispatch)\n    }\n}\n","import useAuth from '../redux/auth/useAuth';\nimport { Typography, } from '@material-ui/core';\n\nexport default function DisplayUsername() {\n  const { isLoggedIn, username } = useAuth();\n  return isLoggedIn\n    ? <Typography variant=\"h4\">{`¡Hola ${username}!`}</Typography>\n    : null;\n}\n\n","import React from 'react';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nexport default function Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\n","import React, { useEffect, useRef } from 'react';\nimport Alert from '../alert';\nimport useAuth from \"../../redux/auth/useAuth\";\nimport { Modal, Button, TextField, Snackbar } from '@material-ui/core';\nimport { useForm } from \"react-hook-form\";\n\nexport function LoginForm({ onSubmit = () => {} }) {\n  const usernameInput = useRef();\n  const { register, handleSubmit } = useForm();\n  const { login } = useAuth();\n\n  useEffect(() => {\n    if (usernameInput.current) {\n      register(usernameInput.current);\n      usernameInput.current.focus();\n    }\n  }, [register]);\n\n  return (\n    <form\n      onSubmit={handleSubmit(d => { login(d.username); onSubmit(d); })}\n      style={{\n        display: 'flex',\n        flexDirection: 'column'\n      }}\n    >\n      <TextField\n        required\n        helperText=\"No puede ser vacío\"\n        type='input'\n        label='Usuario'\n        name=\"username\"\n        variant='outlined'\n        style={{ margin: '10px' }}\n        inputProps={{ ref: usernameInput }}\n      />\n      <Button\n        type='submit'\n        variant=\"contained\"\n        color=\"primary\"\n        style={{ margin: '10px' }}\n      >\n        Confirmar\n      </Button>\n    </form>\n  );\n}\n\nexport function LoginModal({ open, onClose, onSubmit }) {\n\n  function handleSubmit() {\n    onSubmit && onSubmit();\n    onClose && onClose();\n  }\n\n  return (\n    <Modal\n      open={open}\n      onClose={onClose}\n      closeAfterTransition\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <div style={{\n        backgroundColor: '#fff',\n        padding: '25px',\n        borderRadius: '4px'\n      }}>\n        <h1 style={{ textAlign: 'center' }}>¡Bienvenido!</h1>\n        <LoginForm onSubmit={handleSubmit} />\n      </div>\n    </Modal>\n  );\n}\n\nexport function LogInButton({ onClick }) {\n  return (\n    <Button\n      onClick={onClick}\n      color=\"inherit\"\n    >\n      Ingresar\n    </Button>\n  );\n}\n\nexport function LoginAlert({ open, onClose }) {\n  return (\n    <Snackbar open={open} autoHideDuration={2500} onClose={onClose}>\n      <Alert onClose={onClose} severity=\"success\">\n        ¡Bienvenido al sistema!\n      </Alert>\n    </Snackbar>\n  );\n}\n","import React from 'react';\nimport Alert from '../alert';\nimport useAuth from \"../../redux/auth/useAuth\";\nimport { Snackbar, Button } from '@material-ui/core';\n\nexport function LogOutButton({ onClick = () => {} }) {\n  const { logout } = useAuth();\n\n  return (\n    <Button\n      onClick={() => { logout(); onClick(); }}\n      color=\"inherit\"\n    >\n      Salir\n    </Button>\n  );\n}\n\nexport function LogoutAlert({ open, onClose }) {\n  return (\n    <Snackbar open={open} autoHideDuration={2500} onClose={onClose}>\n      <Alert onClose={onClose} severity=\"success\">\n        ¡Hasta pronto!\n      </Alert>\n    </Snackbar>\n  );\n}\n","import React, { useState } from 'react';\nimport useAuth from \"../../redux/auth/useAuth\";\nimport { LogInButton, LoginModal, LoginAlert } from './login';\nimport { LogOutButton, LogoutAlert } from './logout';\n\nfunction SessionButton({ onLoginClick, onLogoutClick }) {\n  const { isLoggedIn } = useAuth();\n\n  return isLoggedIn\n    ? <LogOutButton onClick={onLogoutClick} />\n    : <LogInButton onClick={onLoginClick} />\n}\n\nexport default function LoginLogoutButton() {\n  const [loginModalOpen, setLoginModalOpen] = useState(false);\n  const [loginAlertOpen, setLoginAlertOpen] = useState(false);\n  const [logoutAlertOpen, setLogoutAlertOpen] = useState(false);\n\n  return (\n    <>\n      <SessionButton\n        onLoginClick={() => setLoginModalOpen(true)}\n        onLogoutClick={() => setLogoutAlertOpen(true)}\n      />\n      <LoginModal\n        open={loginModalOpen}\n        onClose={() => setLoginModalOpen(false)}\n        onSubmit={() => setLoginAlertOpen(true)}\n      />\n      <LoginAlert\n        open={loginAlertOpen}\n        onClose={() => setLoginAlertOpen(false)}\n      />\n      <LogoutAlert\n        open={logoutAlertOpen}\n        onClose={() => setLogoutAlertOpen(false)}\n      />\n    </>\n  );\n}\n\n","import React from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\nimport DisplayUsername from '../components/displayUsername';\nimport LoginLogoutButton from './auth/loginLogoutButton';\n\nexport default function TopBar() {\n  return (\n    <AppBar position=\"static\">\n      <Toolbar style={{ justifyContent: 'space-between'}}>\n        <Typography variant=\"h6\">\n          Tramos horarios\n        </Typography>\n        <DisplayUsername />\n        <LoginLogoutButton />\n      </Toolbar>\n    </AppBar>\n  );\n}\n","export type OrderAction = {\n    type: string;\n    payload: {\n        username: string;\n        hour: string;\n    }\n}\n\nexport enum types {\n    REQUEST_MOTORCYCLE = 'REQUEST_MOTORCYCLE',\n    CANCEL_MOTORCYCLE = 'CANCEL_MOTORCYCLE',\n}\n\nexport function requestMotorcycle(username: string, hour: string): OrderAction {\n    return {\n        type: types.REQUEST_MOTORCYCLE,\n        payload: {\n            username,\n            hour\n        }\n    };\n}\n\nexport function cancelMotorcycle(username: string, hour: string): OrderAction {\n    return {\n        type: types.CANCEL_MOTORCYCLE,\n        payload: {\n            username,\n            hour\n        }\n    };\n}\n","import { Action } from '../types';\n\n// Todo: move into database\nconst initialState = {\n    \"08:00\": 8,\n    \"08:30\": 8,\n    \"09:00\": 8,\n    \"09:30\": 8,\n    \"10:00\": 8,\n    \"10:30\": 8,\n    \"11:00\": 8,\n    \"11:30\": 8,\n    \"12:00\": 8,\n    \"12:30\": 8,\n    \"13:00\": 8,\n    \"13:30\": 8,\n    \"14:00\": 8,\n    \"14:30\": 8,\n    \"15:00\": 8,\n    \"15:30\": 8,\n    \"16:00\": 8,\n    \"16:30\": 8,\n    \"17:00\": 8,\n    \"17:30\": 8,\n    \"18:00\": 8,\n    \"18:30\": 8,\n    \"19:00\": 8,\n    \"19:30\": 8,\n    \"20:00\": 8\n}\n\nexport default\nfunction reducer(state = initialState, action: Action) {\n    switch (action.type) {\n        default: {\n            return state;\n        }\n    }\n}\n","import { types } from './actions';\nimport { Action, AuthState } from '../types';\n\nconst key = 'username';\n\nconst initialState: AuthState = {\n    username: window.localStorage.getItem(key)\n}\n\nexport default\nfunction reducer(state: AuthState = initialState, action: Action) {\n    switch (action.type) {\n        case types.LOGIN: {\n            window.localStorage.setItem(key, action.payload.username);\n            return {\n                ...state,\n                username: action.payload.username\n            }\n        }\n        case types.LOGOUT: {\n            window.localStorage.removeItem(key);\n            return {\n                ...state,\n                username: null\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\n","import { OrderAction, types } from './actions';\n\nconst key = 'orders';\n\nconst unparsedState = window.localStorage.getItem(key) ?? \"{}\"; \nconst initialState: any = JSON.parse(unparsedState);\n\nexport default\nfunction reducer(state: any = initialState, action: OrderAction) {\n    switch (action.type) {\n        case types.REQUEST_MOTORCYCLE: {\n            const { username, hour } = action.payload;\n            const newState = {\n                ...state,\n                [username]: {\n                    ...(state[username] || {}),\n                    [hour]: true\n                }\n            };\n            window.localStorage.setItem(key, JSON.stringify(newState));\n            return newState;\n        }\n        case types.CANCEL_MOTORCYCLE: {\n            const { username, hour } = action.payload;\n            const newState = {\n                ...state,\n                [username]: {\n                    ...(state[username]),\n                    [hour]: undefined\n                }\n            };\n            window.localStorage.setItem(key, JSON.stringify(newState));\n            return newState;\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\n","import { combineReducers, createStore } from \"redux\";\nimport availability from \"./availability/reducer\";\nimport auth from \"./auth/reducer\";\nimport orders from \"./orders/reducer\";\n\nconst reducers = combineReducers({ auth, availability, orders });\nexport const store = createStore(reducers, (window as any)?.__REDUX_DEVTOOLS_EXTENSION__());\nexport default store;\n\n","import { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport * as Actions from './actions';\nimport useAuth from '../auth/useAuth';\nimport { store } from '../store';\n\nfunction requestMotorcycle(hour: string) {\n    const username = store.getState().auth.username;\n    if (!username)\n        throw new Error(\"Debe iniciar sesión\");\n\n    store.dispatch(Actions.requestMotorcycle(username, hour));\n}\n\nfunction cancelMotorcycle(hour: string) {\n    const username = store.getState().auth.username;\n    if (!username)\n        throw new Error(\"Debe iniciar sesión\");\n\n    store.dispatch(Actions.cancelMotorcycle(username, hour));\n}\n\nfunction requested(hour: string, orders: object) {\n    const sum = Object.entries(orders)\n        .reduce((pv: number, [, v]: any) => pv + (v[hour] ? 1 : 0), 0);\n    return sum;\n}\n\nfunction calcAvailable(hour: string, availability: object, orders: object) {\n    const total = availability[hour];\n    const occupied = requested(hour, orders);\n    return total - occupied;\n}\n\nexport default function useOrders(hour: string) {\n    const orders = useSelector((s: any) => s.orders);\n    const availability = useSelector((s: any) => s.availability);\n    const { username } = useAuth();\n    const [available, setAvailable] = useState(0);\n\n    useEffect(() => {\n        const sum = calcAvailable(hour, availability, orders);\n        setAvailable(sum);\n    }, [hour, availability, orders]);\n\n    return {\n        requestMotorcycle: (hour: string) => requestMotorcycle(hour),\n        cancelMotorcycle: (hour: string) => cancelMotorcycle(hour),\n        isRequested: (hour: string) => !!(orders[username] && orders[username][hour]),\n        requested: (hour: string) => requested(hour, orders),\n        available: available\n    }\n}\n","import React, { useState } from 'react';\nimport { Button, Snackbar } from '@material-ui/core';\nimport Alert from '../../components/alert';\nimport useOrders from '../../redux/orders/useOrders';\n\nfunction RequestMotorcycle({ onClick }) {\n  return (\n    <Button variant='contained' color='primary' onClick={onClick}>\n      SOLICITAR\n    </Button>\n  )\n}\n\nfunction CancelMotorcycle({ onClick }) {\n  return (\n    <Button variant='contained' color='secondary' onClick={onClick}>\n      CANCELAR\n    </Button>\n  )\n}\n\nfunction Disabled() {\n  return (\n    <Button variant='contained' disabled>\n      AGOTADO\n    </Button>\n  )\n}\n\nfunction RequestCancelMotorcycle({ hour, onRequestMotorcycle, onCancelMotorcycle }) {\n  const { isRequested, available } = useOrders(hour);\n\n  return isRequested(hour)\n    ? <CancelMotorcycle onClick={onCancelMotorcycle} />\n    : (available > 0\n      ? <RequestMotorcycle onClick={onRequestMotorcycle} />\n      : <Disabled />\n    );\n}\n\nexport default function RequestMotorcycleButton({ hour }) {\n  const [error, setError] = useState(false);\n  const { requestMotorcycle, cancelMotorcycle } = useOrders();\n\n  function onCancelMotorcycle(hour) {\n    try {\n      cancelMotorcycle(hour);\n    } catch (err) {\n      console.error(err);\n      setError(err);\n    }\n  }\n\n  function onRequestMotorcycle(hour) {\n    try {\n      requestMotorcycle(hour);\n    } catch (err) {\n      console.error(err);\n      setError(err);\n    }\n  }\n\n  return (\n    <>\n      <RequestCancelMotorcycle\n        hour={hour}\n        onRequestMotorcycle={() => onRequestMotorcycle(hour)}\n        onCancelMotorcycle={() => onCancelMotorcycle(hour)}\n      />\n      <ErrorHandler open={error} message={error?.message} onClose={() => setError(false)}/>\n    </>\n  );\n}\n\nfunction ErrorHandler({ open, message, onClose }) {\n  return open && (\n    <Snackbar open={true} autoHideDuration={2500} onClose={onClose}>\n      <Alert onClose={onClose} severity=\"error\">\n        {message || \"Error desconocido\"}\n      </Alert>\n    </Snackbar>\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@material-ui/core';\nimport RequestMotorcycleButton from './requestMotorcycleButton';\nimport useOrders from '../../redux/orders/useOrders'\n\nfunction MotorcycleTableBody() {\n  const motorcicles = useSelector(s => s.availability);\n\n  return (\n    <TableBody>\n      {Object.entries(motorcicles).map(([k]) => (\n        <MotorcycleRow key={k} hour={k} />\n      ))}\n    </TableBody>\n  );\n}\n\nfunction MotorcycleRow({ hour }) {\n  const { available } = useOrders(hour);\n\n  return (\n    <TableRow>\n      <TableCell>{hour}</TableCell>\n      <TableCell align=\"right\">{available}</TableCell>\n      <TableCell align=\"right\">\n        <RequestMotorcycleButton hour={hour} />\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport default function AvailableMotorciclesGrid() {\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Horario</TableCell>\n            <TableCell align=\"right\">Disponibles</TableCell>\n            <TableCell align=\"right\">Solicitar</TableCell>\n          </TableRow>\n        </TableHead>\n        <MotorcycleTableBody />\n      </Table>\n    </TableContainer>\n  );\n}\n\n","import React from 'react';\nimport TopBar from './components/topBar';\nimport AvailableMotorciclesGrid from './components/motorcycles/availableMotorciclesGrid';\n\nfunction Layout({ children }) {\n  return (\n    <div style={{\n      padding: '50px 25px 25px 25px'\n    }}>\n      {children}\n    </div>\n  );\n}\n\nfunction Title() {\n  return (\n    <h1>Selección de motocicleta</h1>\n  );\n}\n\nexport default function App() {\n  return (\n    <>\n      <TopBar />\n      <Layout>\n        <Title />\n        <AvailableMotorciclesGrid />\n      </Layout>\n    </>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}